pipeline {
    agent any

    stages {
        stage('Build') {
            steps {
                echo 'Tool: Maven (for automated builds)'
            }
        }
        stage('Unit and Integration Tests') {
            steps {
                echo 'Tool: JUnit (for automated unit tests)'
            }
        }
        stage('Code Analysis') {
            steps {
                echo 'Tool: SonarQube (for code analysis)'
            }
        }
        stage('Security Scan') {
            steps {
                echo 'Tool: OWASP ZAP (for security testing)'
            }
        }
        stage('Deploy to Staging') {
            steps {
                echo 'Tool: AWS Elastic Beanstalk (for deployment to a staging environment)'
            }
        }
        stage('Integration Tests on Staging') {
            steps {
                echo 'Tool: Selenium (for automated integration tests on the staging environment)'
            }
        }
        stage('Deploy to Production') {
            steps {
                echo 'Tool: AWS Elastic Beanstalk (for deployment to a production environment)'
            }
        }
    }

    post {
        success {
            // Send email notification on success.
            emailext attachLog: true,
                      subject: 'Pipeline Success',
                      body: 'The Jenkins pipeline completed successfully.',
                      to: 'gssravanthi31@gmail.com'
        }
        failure {
            // Send email notification on failure.
            emailext attachLog: true,
                      subject: 'Pipeline Failure',
                      body: 'The Jenkins pipeline failed. Please check the logs.',
                      to: 'gssravanthi31@gmail.com'
        }
    }
}
